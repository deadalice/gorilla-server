  json = {
    destination: source.destination,
    description: source.description
  }

  if source.external_url.present?
    json[:external_url] = source.external_url
  else
    json[:attachment] = render 'layouts/file', file: source.attachment
  end

  json