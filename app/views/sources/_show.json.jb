json = {
  destination: source.destination,
  description: source.description
}

if source.file.attached?
  json[:file] = render 'layouts/file', file: source.file
end

json