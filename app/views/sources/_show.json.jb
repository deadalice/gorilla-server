json = {
  description: source.description,
  created_at: package.created_at.to_i,
  updated_at: package.updated_at.to_i
}

if source.file.attached?
  json[:file] = render 'layouts/file', file: source.file
end

json[:state] = Rails.cache.read("source_state_#{id}")

json.compact
